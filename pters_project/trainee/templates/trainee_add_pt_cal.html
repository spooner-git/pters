{% extends "trainee_base_add_pt.html" %}
{% load static %}

{% block local_css %}
        <link rel="stylesheet" href={% static "user/css/pters.trainee.pt.add.weekly.css" %}>
{% endblock %}

{% block content %}

    <form action="{% url 'trainee:pt_add_array_logic' %}" id="pt-add-form" method="post">
        <input type="hidden" name="next_page">
        <input type="hidden" name="add_pt_size" id="add-pt-count" value="0">
    </form>


  <!--팝업메뉴-->
    <div id="cal_popup">
      <div id="popup_img"><img src="/static/user/res/ptadd/icon-cal.png" id="img_cal"><img src="/static/user/res/ptadd/btn-x.png" id="btn_close"></div><div id="popup_info"></div>
      <div id="popup_text1" class="popup_inner popup_inner_change"  onclick="location.href='{% url 'trainee:add_pt' %}'"><span>일정 변경</span></div>
      <div id="popup_text2" class="popup_inner popup_inner_delete"><span>일정 삭제</span></div>
    </div>
    <!--현재 클릭한 일정의 요소 보기: pters.day.cal.js 19행 console.log 주석 참고-->
  <!--팝업메뉴-->
    


    <div id="ymdText" class="wrap">
      <div class='arrowButton'>
        <a href="" ><img src={% static "user/res/daycal_arrow.png" %} alt="" style="width: 7px;"></a>
        <a href="" style="right: 0%"><img src={% static "user/res/daycal_arrow.png" %} alt="" style="-webkit-transform:rotate(180deg);width: 7px;"></a>
      </div>
      <img src={% static "user/res/bg.png" %} alt="bg-image" style="width: 100%;height:100%;position: relative;z-index: -1;">
      <div id="yearText">
      </div>
      <div id="countRemain" style="position: absolute;top: 2px;right: 2px;color: #ffffff;font-size: 13.5px;font-weight: 300;">예약가능횟수: <span id="countRemainData"> {{lecture_count}}회</span></div>
      <div id="monthText">
      </div>
    </div>
    
    <div id="week" class="time-style wrap">
      <table class="calendar-style">
        <tbody>
          <tr id="weekText">
            <td class="hour"><span></span><span></span></td>
            <td id="weekNum_1"><span class="weekToday-style"></span><span class="weekToday-style" style="color: red;">일</span><span id="sunDate" class="weekToday-style"></span></td>
            <td id="weekNum_2"><span class="weekToday-style"></span><span class="weekToday-style">월</span><span id="monDate" class="weekToday-style"></span></td>
            <td id="weekNum_3"><span class="weekToday-style"></span><span class="weekToday-style">화</span><span id="tueDate" class="weekToday-style"></span></td>
            <td id="weekNum_4"><span class="weekToday-style"></span><span class="weekToday-style">수</span><span id="wedDate" class="weekToday-style"></span></td>
            <td id="weekNum_5"><span class="weekToday-style"></span><span class="weekToday-style">목</span><span id="thrDate" class="weekToday-style"></span></td>
            <td id="weekNum_6"><span class="weekToday-style"></span><span class="weekToday-style">금</span><span id="friDate" class="weekToday-style"></span></td>
            <td id="weekNum_7"><span class="weekToday-style"></span><span class="weekToday-style" style="color: blue;">토</span><span id="satDate" class="weekToday-style"></span></td>
          </tr>
        </tbody>
      </table>
    </div>


    <div id="calendar" class="wrap" > <!-- Calendar container-->
          <div class="swiper-container">
            <div class="swiper-wrapper"> 
              <div class="swiper-slide" id="slide_first">
               <div class="slide-notice"><span>일정 설정 및 확인은 최대 2주전까지 가능합니다.</span><span>>>>>>>>>>></span></div>
              </div> <!--마지막 페이지 안내-->
              <div class="swiper-slide" id="slide0"></div> <!--Index-1 2주전-->
              <div class="swiper-slide" id="slide1"></div> <!--Index0 1주전-->
              <div class="swiper-slide" id="slide2"></div> <!--Index1 이번주-->
              <div class="swiper-slide" id="slide3"></div> <!--Index2 1주후-->
              <div class="swiper-slide" id="slide4"></div> <!--Index3 2주후-->
              <div class="swiper-slide" id="slide_last2">
               <div class="slide-notice"><span>일정 설정 및 확인은 최대 2주후까지 가능합니다.</span><span><<<<<<<<<<</span></div>
              </div> <!--마지막 페이지 안내-->
            </div>  <!--Swiper-wrapper-->
          </div> <!--Swiper-container-->
  
<!--Swiper-->    
          <!-- <div class="swiper-pagination"></div> -->
          <div id="cal_box" class="cal_box"></div>    
    </div>
{% endblock %}

{% block local_js_footer %}
    <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->

        <script>
          //front-end에서 다뤄야하는 데이터
          

          var classTimeArray_start_date = [{% for daily_data_start_date in daily_lecture_data_start_date %}'{{ daily_data_start_date }}',{% endfor %}];
          var classTimeArray_end_date = [{% for daily_data_end_date in daily_lecture_data_end_date %}'{{ daily_data_end_date }}',{% endfor %}];
          var classTimeArray_member_name = [{% for member_name in daily_lecture_data_member %}'{{ member_name }}',{% endfor %}];
          var offTimeArray_start_date = [{% for daily_off_start_date in daily_off_data_start_date %}'{{ daily_off_start_date }}',{% endfor %}];
          var offTimeArray_end_date = [{% for daily_off_end_date in daily_off_data_end_date %}'{{ daily_off_end_date }}',{% endfor %}];
          var classTimeArray = [];
          var offTimeArray = [];


          //임의 데이터 베이스
          //var classTimeArray_start_date = ['2017년 11월 5일 5:00 오전','2017년 11월 7일 6:00 오전','2017년 11월 8일 3:00 오후','2017년 11월 7일 3:00 오후','2017년 11월 7일 8:00 오후','2017년 11월 9일 8:00 오후','2017년 11월 11일 2:00 오후','2017년 11월 7일 8:00 오전','2017년 11월 8일 2:00 오후','2017년 11월 6일 1:00 오후','2017년 11월 7일 9:00 오전','2017년 11월 8일 10:00 오전','2017년 11월 6일 6:00 오후','2017년 11월 7일 10:00 오전','2017년 11월 6일 10:00 오전',];
          //var classTimeArray_end_date = ['2017년 11월 5일 7:00 오전','2017년 11월 7일 8:00 오전','2017년 11월 8일 4:00 오후','2017년 11월 7일 4:00 오후','2017년 11월 7일 9:00 오후','2017년 11월 9일 9:00 오후','2017년 11월 11일 3:00 오후','2017년 11월 7일 9:00 오전','2017년 11월 8일 3:00 오후','2017년 11월 6일 2:00 오후','2017년 11월 7일 10:00 오전','2017년 11월 8일 11:00 오전','2017년 11월 6일 7:00 오후','2017년 11월 7일 11:00 오전','2017년 11월 6일 11:00 오전',];
          //var classTimeArray_member_name = ['테스트1','테스트1','테스트1','테스트1','김선겸','김선겸','김선겸','김선겸','피피겸','피피겸','피피겸','지메일선겸','지메일선겸','지메일선겸','변경테스트',];
          //var offTimeArray_start_date = ['2017년 11월 12일 5:00 오전','2017년 11월 11일 3:00 오후','2017년 11월 5일 9:00 오전','2017년 11월 6일 5:00 오전','2017년 11월 7일 5:00 오전','2017년 11월 8일 5:00 오전','2017년 11월 9일 9:00 오후','2017년 11월 8일 11:00 오전','2017년 11월 9일 5:00 오전','2017년 11월 6일 11:00 오전','2017년 11월 6일 7:00 오후','2017년 11월 7일 4:00 오후','2017년 11월 7일 9:00 오후','2017년 11월 8일 4:00 오후',];
          //var offTimeArray_end_date = ['2017년 11월 13일 1:00 오전','2017년 11월 12일 1:00 오전','2017년 11월 5일 11:00 오전','2017년 11월 6일 10:00 오전','2017년 11월 7일 6:00 오전','2017년 11월 8일 10:00 오전','2017년 11월 10일 1:00 오전','2017년 11월 8일 2:00 오후','2017년 11월 9일 2:00 오후','2017년 11월 6일 1:00 오후','2017년 11월 7일 1:00 오전','2017년 11월 7일 8:00 오후','2017년 11월 8일 1:00 오전','2017년 11월 8일 6:00 오후',];
          //var scheduleIdArray = ['152','164','167','174','145','146','148','171','165','169','172','155','168','173','170',];
          //var offScheduleIdArray = ['93', '94', '97', '98', '99', '100', '101', '102', '103', '104', '106', '108', '109', '110', ];
          //var classTimeArray = [];
          //var offTimeArray = [];
        
        </script>
        <script type="text/javascript" src={% static "user/js/pters.trainee.pt.add.weekly.js" %}></script>
        <script>
            var myswiper = new Swiper('.swiper-container',{
                initialSlide : 3,
                speed : 300,
                preventClicks : true,
                keyboardControl : true,
                pagination : '.swiper-pagination'
            });
        </script>
{% endblock %}