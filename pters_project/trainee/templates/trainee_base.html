<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static_url %}
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-WG2KK6D');</script>
        <!-- End Google Tag Manager -->
        <!--Google Adsense-->
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-4554121851965192",
            enable_page_level_ads: true
          });
        </script>
        <!--Google Adsense-->

        <title>
            {% block title %}
                PTERS
            {% endblock %}
        </title>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
        <meta name="google-site-verification" content="EPm2stOoq7M_LaK0htEQNqbitGznovZCakPO78TPtsk" />
        <meta name="naver-site-verification" content="919ceda7d377b0d22cf390ca79de5dc21dc3d0fa"/>
        <meta name="description" content="PTERS 피터스 레슨 회원과 일정 관리툴">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="author" content="">

        <link rel="icon" href="/static/common/favicon.ico">
        <link rel="apple-touch-icon" href="/static/common/favicon-48.png">
        <link rel="shortcut icon" href="/static/common/favicon-48.png">
        <link rel="stylesheet" href={% static_url "user/css/trainee/pters.trainee.fundamental.css"%}>
        <link rel="stylesheet" href={% static_url "user/css/trainee/popup/pters.trainee.popup.plan.css"%}>
        <link rel="stylesheet" href={% static_url "user/css/trainee/popup/pters.trainee.popup.base.css" %}>
        <link rel="stylesheet" href={% static_url "user/css/trainee/pters.trainee.object.css" %}>
        <link rel="stylesheet" href={% static_url "user/css/trainee/popup/pters.trainee.popup.mobile_side_menu.css" %}>
        {% block local_css %}
        {% endblock %}
    </head>

    <body>
        <script src={% static_url "user/js/trainee/pters.trainee.const.js" %}></script>
        <script src={% static_url "common/js/jquery.1.12.4.min.js" %}></script>
        <!-- Google Tag Manager (noscript) -->
        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WG2KK6D" height="0" width="0" style="display:none;visibility:hidden"></iframe>
        </noscript>
        <!-- End Google Tag Manager (noscript) -->

        {% block navbar %}
            <!--회원 상단 [홈/일정/프로그램선택/알림/메뉴버튼] 영역  -->
            <nav>
                <div class="nav_trainee_menu_box_l">
                    <a href="{% url 'trainee:trainee_main' %}"><div id="nav_btn_home">홈</div></a>
                    <a href="{% url 'trainee:trainee_calendar' %}"><div id="nav_btn_plan">일정</div></a>
                    <a href="{% url 'trainee:trainee_program' %}"><div id="nav_btn_program_select">프로그램 선택</div></a>
                </div>
                <div class="nav_trainee_menu_box_r">
                    <a href="{% url 'trainee:trainee_design_template' %}"><div id="nav_btn_alarm"><img src="/static/user/res/alarm/alarm_on.png" class="nav_btn_img"></div></a>
                    <a><div id="nav_btn_menu" onclick="layer_popup.open_layer_popup(POPUP_INNER_HTML, 'pters_mobile_side_menu', 100, POPUP_FROM_RIGHT)"><img src="/static/user/res/menu.jpg" class="nav_btn_img"></div></a>
                </div>
            </nav>
            <!-- 회원 mobile side menu 팝업 include -->
            {% include 'popup/trainee_mobile_side_menu.html' %}
        {% endblock %}
        <img src="/static/user/res/ajax/loading.gif" alt="" class="ajax_load_image">
        <div id="shade_for_popup_basic" style="position:fixed;top:0;height:100%;width:100%;background-color:#282828;opacity:0.5; display: none;"></div>
        <div class="content_page">
            {% block content %}
            {% endblock %}
        </div>

            {% include 'popup/trainee_popup_basic.html' %}
        {% block popup %}
        {% endblock %}

        {% block footer %}
        {% endblock %}

        <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/javascript" src={% static_url "user/js/trainee/pters.trainee.popup.behavior.js" %}></script>
        <script type="text/javascript" src={% static_url "user/js/trainee/pters.trainee.fundamental.js" %}></script>
        <script type="text/javascript">

            //기기 사이즈, 창사이즈 계산
            const windowWidth = $(window).width();
            const windowHeight = $(window).height();
            const varUA = navigator.userAgent.toLowerCase();

            //기기종류 판단
            var device = 'pc';
            var os = 'ios';
            var browser = 'chrome';
            if (varUA.match(/android/) != null) {
                device = 'mobile';
                os = 'android';
            }else if (varUA.match(/iphone/) != null || varUA.match(/ipad/) != null || varUA.match(/ipod/) != null) {
                device = 'mobile';
                os = 'ios';
            }else if (varUA.match(/macintosh/) != null){
                device = 'pc';
                os = 'ios';
            }else{
                device = 'pc';
                os = 'window';
            }

            if (varUA.match(/firefox/) != null) {
                browser = 'firefox';
            }else if (varUA.match(/chrome/) != null || varUA.match(/chromium/) != null) {
                browser = 'chrome';
            }else if (varUA.match(/safari/) != null) {
                browser = 'safari';
            }else if (varUA.match(/edge/) != null) {
                browser = 'edge';
            }

            //content 높이와 스크롤 셋팅
            var $content = $('.content_page');
            $content.css("height", windowHeight-parseInt($('body').css("padding-top"), 10));
            $content.scrollTop(1);
            $content.scroll(function(){
                const popupHeight = $content.height();
                const scrollHeight = $content.prop('scrollHeight');
                const scrollLocation = $content.scrollTop();
                if(popupHeight + scrollLocation == scrollHeight){
                    $content.animate({scrollTop : scrollLocation-1}, 10);
                }else if(popupHeight + scrollLocation == popupHeight){
                    $content.animate({scrollTop : scrollLocation+1}, 10);
                }
            });

        </script>
        {% block local_js_footer %}
        {% endblock %}

        {% block popup_js_footer %}
        {% endblock %}
    </body>
</html>
