{% extends "trainer_base.html" %}
{% load static %}

{% block local_css %}

        <link rel="stylesheet" href={% static "user/css/trainer/pters.trainer.month.cal.css" %}>
        <link rel="stylesheet" href={% static "user/css/trainer/pters.trainer.off.repeat.add.css" %}>
        <link rel="stylesheet" href={% static "user/css/pters.mini.cal.css" %}>
        <link rel="stylesheet" href={% static "user/css/pters.add.style.css" %}>
{% endblock %}

{% block content %}
<img src="/static/user/res/ajax/loading.gif" alt="" class="ajaxloadingPC">

<form action="{% url 'schedule:delete_schedule' %}" id="daily-pt-delete-form" method="post">
  <input type="hidden" name="schedule_id" id="id_schedule_id_delete">
  <input type="hidden" name="member_name"   id="id_member_name_delete">
  <input type="hidden" name="en_dis_type" id="en_dis_type" value ='1'>
  <input type="hidden" name="next_page" value = '{% url 'trainer:cal_day_ajax' %}'>
</form>

<form action="{% url 'schedule:finish_schedule' %}" id="pt-finish-form" method="get">
  <input type="hidden" name="schedule_id" id="id_schedule_id_finish">
  <input type="hidden" name="lecture_id"   id="id_lecture_id_finish">
  <input type="hidden" name="member_name"   id="id_member_name_finish">
  <input type="hidden" name="next_page" value = '{% url 'trainer:cal_day_ajax' %}'>
</form>

<form action="{% url 'schedule:add_repeat_schedule_confirm' %}" id="confirm-repeat-schedule-form" method="get">
  <input type="hidden" name="repeat_schedule_id" id="id_repeat_schedule_id_confirm"> <!--ajax로 받은 id-->
  <input type="hidden" name="repeat_confirm"   id="id_repeat_confirm">  <!--val 1, 0-->
  <input type="hidden" name="next_page" value = '{% url 'trainer:cal_day_ajax' %}'>
</form>

  <!--플로팅 버튼-->
    <div id="float_btn_wrap">
        <div id="float_btn">
          <img src={% static "user/res/floatbtn/btn-plus.png" %} alt="">  <!--2017.10.2-->
        </div>
        <div id="float_inner1" class="float_inner">
        <a class="KRtext">PT<br/>일정</a><a class="JPtext">PT<br/>追加</a><a class="ENtext">Add<br/>PT</a>
        </div>
        <div id="float_inner2" class="float_inner">
        <a class="KRtext">OFF<br/>일정</a><a class="JPtext">OFF<br/>追加</a><a class="ENtext">Add<br/>OFF</a>
        </div>
    </div>
  <!--플로팅 버튼-->

  <!--shade3는 #f4f4f4 색을 가진 배경(모바일에서 팝업시 뒷배경)-->
    <div id="shade3">
    </div>
    <!--플로팅 버튼-->

  <!-- 일정조회(강사)팝업 -->
    <div id="cal_popup_plancheck">
      <div style="position: relative;">
        <div>
          <img src="/static/user/res/ptadd/icon-cal.png" alt="" class="img_cal">
          <span id="countNum">0</span>
        </div>
        <img src="/static/user/res/ptadd/btn-x.png" alt="" id="btn_close5" class="btn_close_popup">
        <p class="popup_ymdText">yy년,mm월,dd일,O요일</p></div>
        <p style="font-size: 11px;color:#fe4e65;"></p>
      <div class="popup_inner" style="height: auto;"></div>
    </div>
  <!-- 일정조회(강사)팝업 -->

  <!--plan_raw 클릭해서 나오는 개별일정 [일정완료][일정삭제] 팝업-->
    <div id="cal_popup_planinfo">
      <div id="popup_img">
        <img src="/static/user/res/ptadd/icon-cal.png" id="img_cal">
        <img src="/static/user/res/ptadd/btn-x.png" id="btn_close">
      </div>
      <div id="popup_info" class="popup_info_text"></div>
      <div id="popup_info2" class="popup_info_text"></div>
      <div id="popup_btn_complete" class="popup_inner popup_inner_finish">
        <span class="KRtext">일정 완료</span><span class="JPtext">日程완료</span><span class="ENtext">Finish Schedule</span>
      </div>
      <div id="canvasWrap">
        <span>회원님 완료 서명을 입력해주세요.</span>
        <canvas id="canvas"></canvas>
      </div>
      <div id="popup_btn_delete" class="popup_inner popup_inner_delete">
        <span class="KRtext">일정 삭제</span><span class="JPtext">日程削除</span><span class="ENtext">Delete Schedule</span>
      </div>
    </div>
  <!--변경 팝업메뉴-->


  <!--삭제 확인 팝업메뉴-->
    <div id="cal_popup_plandelete">
      <div id="popup_img"><img src="/static/user/res/ptadd/icon-cal.png" id="img_cal"><img src="/static/user/res/ptadd/btn-x.png" id="btn_close3"></div><div id="popup_info3">정말 일정을 삭제하시겠습니까?</div>
      <div id="popup_btn_delete_yes" class="popup_inner popup_inner_delete"><span style="left:48%;color:#282828;">예</span></div>
      <div id="popup_btn_delete_no" class="popup_inner popup_inner_delete"><span style="left:44.5%;">아니오</span></div>
    </div>
    <!--현재 클릭한 일정의 요소 보기: pters.day.cal.js 19행 console.log 주석 참고-->
  <!--삭제 확인 팝업메뉴-->

  <div id="cal_popup_repeatconfirm">
    <div id="popup_img"><img src="/static/user/res/ptadd/icon-cal.png" id="img_cal"><img src="/static/user/res/ptadd/btn-x.png" id="btn_close_repeatconfirm" class="popup_close_x_button"></div>
    <div class="KRtext popup_info_text _repeatconfirmQuestion">이 일정으로 반복 등록하시겠습니까?</div>
    <div class="JPtext popup_info_text _repeatconfirmQuestion">下記の通り繰り返し登録しますか。</div>
    <div class="ENtext popup_info_text _repeatconfirmQuestion">Adding repeat schedule as below.</div>
    <div id="repeat_confirm_day" class="popup_info_text"></div>
    <div id="repeat_confirm_dur" class="popup_info_text"></div>
    <div id="popup_btn_repeatconfirm_yes" class="popup_inner popup_inner_delete">
      <span style="color:#282828;" class="KRtext">예</span>
      <span style="color:#282828;" class="JPtext">はい</span>
      <span style="color:#282828;" class="ENtext">Yes</span>
    </div>
    <div id="popup_btn_repeatconfim_no" class="popup_inner popup_inner_delete"><span class="KRtext">아니오</span><span class="JPtext">いいえ</span><span class="ENtext">No</span></div>
  </div>


    <div id="ng_popup">
       <img src="/static/user/res/stopmark.png" alt="Caution!" style="width:30px;margin: 20px;">
        <div id="ng_popup_text" style="margin-bottom: 20px;">
          <p>일정은 오늘 날짜 기준</p><p>2주앞만 설정 가능합니다.</p>
        </div>
    </div>

  <!-- 월간 달력 -->
    <div id="ymdText" class="" style="background-image:url(/static/user/res/bg.png);background-size: 100%;">
      <div class='arrowButton'>
              <a id="leftArrowButton" style="left: 4%">
                <img src={% static "user/res/btn-today-left.png" %} alt="" class="_pinkarrowbefore setunVisible" style="width: 11px;margin-top:1px;margin-right: 10px;">
                <img src={% static "user/res/daycal_arrow.png" %} alt="" id="leftArrowButtonImg">
                <span style="position: absolute;top:6px;left:-9px;font-size: 10px;color:#fe4e65;" class="_pinkarrowbefore setunVisible">Today</span>
              </a>
              <a id="rightArrowButton" style="right: 4%">
                <img src={% static "user/res/daycal_arrow.png" %} alt="" id="rightArrowButtonImg">
                <img src={% static "user/res/btn-today-left.png" %} alt="" class="_pinkarrowafter setunVisible" style="-webkit-transform:rotate(180deg);width: 11px;margin-top:1px;margin-left: 10px;">
                <span style="position: absolute;top:6px;right:-8px;font-size: 10px;color:#fe4e65;" class="_pinkarrowafter setunVisible">Today</span>
              </a>
            </div>
      <div id="yearText">
      </div>
      <div id="monthText">
      </div>
      <div id="menuName">월간 일정
      </div>
      <div id="menuDescription">월별 일정을 확인 할 수 있습니다.
      </div>
    </div>

    <div id="hidetoggle" class="wrap">
      <img src="/static/user/res/daycal_arrow_pink.png" style="-webkit-transform:rotate(90deg)"><span>일정 넓게 보기</span>
    </div>


    <div id="ymdText-pc" class="wrap">
        <img src="/static/user/res/icon-cal-btn.png" id="ymdText-pc-prev-btn">
        <div class="ymdText-pc-fulldate">
          <span id="ymdText-pc-year" class="ymdText-pc-year">1월</span>
          <span id="ymdText-pc-month" class="ymdText-pc-month">17일</span>
        </div>
        <img src="/static/user/res/icon-cal-btn.png"  id="ymdText-pc-next-btn" style="-webkit-transform:rotate(180deg)">

        <div class="ymdText-pc-add">
          <div class="ymdText-pc-add-off">+ OFF 일정추가</div>
          <div class="ymdText-pc-add-pt">+ PT 일정추가</div>
        </div>
    </div>

    <div id="date" class="week-style wrap"> <!--월화수목금토일-->
            <table class="calendar-style calendar-day-style">
                <tr>
                    <td id="sunday"><p class="calendar_image weekday_style sunday">일</p></td>
                    <td id="monday"><p class="calendar_image weekday_style weekdays">월</p></td>
                    <td id="tuesday"><p class="calendar_image weekday_style weekdays">화</p></td>
                    <td id="wednesday"><p class="calendar_image weekday_style weekdays">수</p></td>
                    <td id="thursday"><p class="calendar_image weekday_style weekdays">목</p></td>
                    <td id="friday"><p class="calendar_image weekday_style weekdays">금</p></td>
                    <td id="saturday"><p class="calendar_image weekday_style saturday">토</p></td>
                </tr>
            </table>
    </div> <!--월화수목금토일-->

    <div id="calendar" class="wrap" > <!-- Calendar container-->    
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide" id="slide0"></div> <!--Index0-->
                <div class="swiper-slide"></div> <!--Index1-->
                <div class="swiper-slide" id="slide2"></div> <!--Index2-->
            </div>  <!--Swiper-wrapper-->
        </div> <!--Swiper-container-->
        <!--Swiper-->
        <!-- <div class="swiper-pagination"></div> -->
        <div id="cal_box" class="cal_box"></div>
    </div>


    <div id="page-addplan" class="wrap">
        <!--
          {% if messages %}
              {% for message in messages %}
                  <div id="inputError">
                          <div id="errorMsg" class="inputErrorInner"><p style="line-height: 35px;vertical-align: middle;margin:0;">{{ message }}</p></div>
                  </div>
              {% endfor %}
          {% endif %}
        -->
          <form action="{% url 'schedule:add_schedule' %}" id="pt-add-form" method="post">
              <input type="hidden" name="lecture_id"    id="id_lecture_id">
              <input type="hidden" name="member_name"   id="id_member_name">
              <input type="hidden" name="training_date" id="id_training_date">
              <input type="hidden" name="time_duration" id="id_time_duration">
              <input type="hidden" name="training_time" id="id_training_time">
              <input type="hidden" name="en_dis_type" id="en_dis_type" value ='1'>
              <input type="hidden" name="next_page" value = '{% url 'trainer:cal_day_ajax' %}'>
              <input type="hidden" name="add_memo" id="id_memo_mini">
          </form>

          <form action="{% url 'schedule:add_schedule' %}" id="off-add-form" method="post">
              <input type="hidden" name="training_date" id="id_training_date_off">
              <input type="hidden" name="time_duration" id="id_time_duration_off">
              <input type="hidden" name="training_time" id="id_training_time_off">
              <input type="hidden" name="en_dis_type" id="en_dis_type" value ='0'>
              <input type="hidden" name="next_page" value = '{% url 'trainer:cal_day_ajax' %}'>
              <input type="hidden" name="add_memo" id="id_memo_mini_off">
          </form>

          <form action="{% url 'schedule:add_repeat_schedule' %}" id="add-repeat-schedule-form" method="post">
              <input type="hidden" name="lecture_id"        id="id_repeat_lecture_id">
              <input type="hidden" name="member_name"       id="id_repeat_member_name">
              <input type="hidden" name="repeat_freq"       id="id_repeat_freq">
              <input type="hidden" name="repeat_start_date" id="id_repeat_start_date">
              <input type="hidden" name="repeat_end_date"   id="id_repeat_end_date">
              <input type="hidden" name="repeat_day"        id="id_repeat_day">
              <input type="hidden" name="repeat_start_time" id="id_repeat_start_time">
              <input type="hidden" name="repeat_dur"        id="id_repeat_dur">
              <input type="hidden" name="en_dis_type" value="1">
              <input type="hidden" name="next_page" value="{% url 'trainer:cal_day_ajax' %}">
          </form>

          <form action="{% url 'schedule:add_repeat_schedule' %}"  id="add-off-repeat-schedule-form" method="post">
              <input type="hidden" name="repeat_freq"         id="id_repeat_freq_off">
              <input type="hidden" name="repeat_start_date"   id="id_repeat_start_date_off">
              <input type="hidden" name="repeat_end_date"     id="id_repeat_end_date_off">
              <input type="hidden" name="repeat_day"          id="id_repeat_day_off">
              <input type="hidden" name="repeat_start_time"   id="id_repeat_start_time_off">
              <input type="hidden" name="repeat_dur"          id="id_repeat_dur_off">
              <input type="hidden" name="en_dis_type" value="0">
              <input type="hidden" name="next_page" value="{% url 'trainer:cal_day_ajax' %}">
          </form>
          
          <div class="ptaddbox" id="pcaddpopup">
            <span class="KRtext">PT 일정 추가</span>
            <span class="JPtext">PT 日程追加</span>
            <span class="ENtext">Add PT Schedule</span>
            <img src="/static/user/res/ptadd/btn-x.png" alt="닫기"  class="icons cancelBtn">
          </div>

          <div class="ptaddbox" id="pcaddpopup_off">
            <span class="KRtext">OFF 일정 추가</span>
            <span class="JPtext">OFF 日程追加</span>
            <span class="ENtext">Add OFF Schedule</span>
            <img src="/static/user/res/ptadd/btn-x.png" alt="닫기"  class="icons cancelBtn">
          </div>

          <div id="memberName" class="ptaddbox">
            <div class="ptaddboxtext"> <img class="icons" src={% static "user/res/ptadd/icon-name.png" %}> <span class="KRtext"> 회원명</span><span class="JPtext"> 姓名</span><span class="ENtext"> Name</span></div>
            <div id="membersSelected" class="dropdown">
              <button class="btn btn-default dropdown-toggle pters_dropdown_custom" type="button" data-toggle="dropdown">
                <span class="KRtext" style="color:#cccccc;">회원명 선택</span>
                <span class="JPtext" style="color:#cccccc;">選択</span>
                <span class="ENtext" style="color:#cccccc;">Select</span></button>
              <img src="/static/user/res/memberadd/icon-down.png" alt="" class="icondown">
              <ul id="members_mobile" class="dropdown-menu pters_dropdown_custom">
                <!-- 회원명 DB연동 필요
                  {# {% for lecture in trainer_member %}
                  <li><a data-lecturecount="{{ lecture.lecture_avail_count }}" data-lectureid="{{ lecture.lecture_id}}">
                      {{ lecture.trainer_member.name }}</a>
                  </li>
                  {% endfor %}
                   #}
                  -->
              </ul>
            </div>
          </div>

          <div id="remainCount" class="ptaddbox">
            <div class="ptaddboxtext"><img class="icons" style="width:13px;" src={% static "user/res/ptadd/icon-count.png" %}> <span class="KRtext"> 예약 가능 횟수</span><span class="JPtext"> 残余回数</span><span class="ENtext"> Remain Counts</span></div>
            <!-- 남은 횟수 DB연동 필요 -->
                  <div id="countsSelected" class="dropdown" placeholder="ー"></div>
          </div>


          <div id="dateSelector" class="ptaddbox _NORMAL_ADD">
            <div class="ptaddboxtext"><img class="icons" src={% static "user/res/ptadd/icon-cal.png" %}> <span class="KRtext"> 날짜</span><span class="JPtext"> 予約日</span><span class="ENtext"> Day Select</span></div>
            <p class="datepicktext dropdown"><input type="text" id="datepicker" placeholder="-" readonly></p>  
          </div>

          <div id="timeGraph" class="ptaddbox _NORMAL_ADD_timegraph" style="display: none;">
            <div class="ptaddboxtext" style="margin-top: 12px;margin-bottom:4px;">등록 가능 시간 <div class="tdgraph" style="display: inline-block;margin-bottom:2px;"></div></div>
            <table class="timegraphtext">
              <tbody>
                <tr>
                  <td class="">0</td>
                  <td class="">1</td>
                  <td class="">2</td>
                  <td class="">3</td>
                  <td class="">4</td>
                  <td class="">5</td>
                  <td class="">6</td>
                  <td class="">7</td>
                  <td class="">8</td>
                  <td class="">9</td>
                  <td class="">10</td>
                  <td class="">11</td>
                  <td class="">12</td>
                  <td class="">13</td>
                  <td class="">14</td>
                  <td class="">15</td>
                  <td class="">16</td>
                  <td class="">17</td>
                  <td class="">18</td>
                  <td class="">19</td>
                  <td class="">20</td>
                  <td class="">21</td>
                  <td class="">22</td>
                  <td class="">23</td>
                </tr>
                <tr>
                  <td id="0g" class="tdgraph"></td>
                  <td id="1g" class="tdgraph"></td>
                  <td id="2g" class="tdgraph"></td>
                  <td id="3g" class="tdgraph"></td>
                  <td id="4g" class="tdgraph"></td>
                  <td id="5g" class="tdgraph"></td>
                  <td id="6g" class="tdgraph"></td>
                  <td id="7g" class="tdgraph"></td>
                  <td id="8g" class="tdgraph"></td>
                  <td id="9g" class="tdgraph"></td>
                  <td id="10g" class="tdgraph"></td>
                  <td id="11g" class="tdgraph"></td>
                  <td id="12g" class="tdgraph"></td>
                  <td id="13g" class="tdgraph"></td>
                  <td id="14g" class="tdgraph"></td>
                  <td id="15g" class="tdgraph"></td>
                  <td id="16g" class="tdgraph"></td>
                  <td id="17g" class="tdgraph"></td>
                  <td id="18g" class="tdgraph"></td>
                  <td id="19g" class="tdgraph"></td>
                  <td id="20g" class="tdgraph"></td>
                  <td id="21g" class="tdgraph"></td>
                  <td id="22g" class="tdgraph"></td>
                  <td id="23g" class="tdgraph"></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div id="classStartTime" class="ptaddbox _NORMAL_ADD">
            <div class="ptaddboxtext">
              <img class="icons" src={% static "user/res/ptadd/icon-start.png" %}> 
              <span class="KRtext"> 시작 시간</span>
              <span class="JPtext"> 開始時間</span>
              <span class="ENtext"> Start Time</span>
            </div>
            <div id="starttimesSelected" class="dropdown">
              <button class="btn btn-default dropdown-toggle pters_dropdown_custom" type="button" data-toggle="dropdown">
                <span class="KRtext" style="color:#cccccc;">선택</span>
                <span class="JPtext" style="color:#cccccc;">選択</span>
                <span class="ENtext" style="color:#cccccc;">Select</span>
              </button>
              <img src="/static/user/res/memberadd/icon-down.png" alt="" class="icondown">
              <ul id="starttimes" class="dropdown-menu pters_dropdown_custom">
              </ul>
            </div>
          </div>

          <div id="classDuration" class="ptaddbox _NORMAL_ADD">
            <div class="ptaddboxtext">
              <img class="icons" src={% static "user/res/ptadd/icon-clock.png" %}> 
              <span class="KRtext"> 진행 시간</span>
              <span class="JPtext"> 進行時間</span>
              <span class="ENtext"> Class Time</span>
            </div>
            <div id="durationsSelected" class="dropdown">
              <button class="btn btn-default dropdown-toggle pters_dropdown_custom" type="button" data-toggle="dropdown">
                <span class="KRtext" style="color:#cccccc;">선택</span>
                <span class="JPtext" style="color:#cccccc;">選択</span>
                <span class="ENtext" style="color:#cccccc;">Select</span>
              </button>
              <img src="/static/user/res/memberadd/icon-down.png" alt="" class="icondown">
              <ul id="durations" class="dropdown-menu pters_dropdown_custom">
              </ul>
            </div>
          </div> 

          <!--반복 일정 개요 박스-->
          <div id="repeatSchedule" class="ptaddbox repeatbox">
              <div id="repeatScheduleText" class="ptaddboxtext repeattext">
                <img src={% static "user/res/icon-cal-mini.png" %} class="icons">
                 <span>반복일정</span>
                 <img class="icons-next-button" src={% static "user/res/icon-setting-arrow.png" %}>
               </div>
          </div>
          <!--반복 일정 개요 박스-->

          <div id="offRepeatSummary" class="ptaddbox _REPEAT_ADD">
              <span id="summaryText">일정요약</span>
              <div class="summaryInnerBox">
                <span class="summaryInnerBoxText">매주 월요일 오전 11시</span>
                <span class="summaryInnerBoxText2">반복종료 : 계속반복</span>
                <span class="deleteBtn"><img src="/static/user/res/daycal_arrow.png" alt="" style="width: 5px;">
                <div class="deleteBtnBin"><img src="/static/user/res/offadd/icon-bin.png" alt=""></div>
                </span>
              </div>
              <div class="summaryInnerBox">
                <span class="summaryInnerBoxText">매주 수요일 오후 3시</span>
                <span class="summaryInnerBoxText2">반복종료 : 2017.12.31</span>
                <span class="deleteBtn"><img src="/static/user/res/daycal_arrow.png" alt="" style="width: 5px;">
                <div class="deleteBtnBin"><img src="/static/user/res/offadd/icon-bin.png" alt=""></div>
                </span>  
              </div>
          </div>
            
          <div id="repeatSetting" class="ptaddbox _REPEAT_ADD">
            <div class="ptaddboxtext"><img class="icons" src={% static "user/res/offadd/icon-repeat.png" %} style="width:14px;"> 반복 빈도</div>
            <div id="repeattypeSelected" class="dropdown">
              <button class="btn btn-default dropdown-toggle pters_dropdown_custom" type="button" data-toggle="dropdown">
                <span class="KRtext" style="color:#cccccc;">선택</span>
                <span class="JPtext" style="color:#cccccc;">選択</span>
                <span class="ENtext" style="color:#cccccc;">Select</span>
              </button>
              <ul id="repeats" class="dropdown-menu pters_dropdown_custom">
                <!-- 회원명 DB연동 필요-->
                <li><a data-repeat="WW">매주</a></li>
                <li><a data-repeat="2W">격주</a></li>
                <li><a data-repeat="DD">매일</a></li>
              </ul>
            </div>
          </div>

          <div id="daySelect" class="ptaddbox _REPEAT_ADD">
            <div class="ptaddboxtext"><img class="icons" src={% static "user/res/ptadd/icon-cal.png" %} style="width:14px;"> 요일별 일정</div>
              <div class="dateButtonGroup" style="width:100%;">
                  <div class="dateButton" data-date="1_SUN">일</div>
                  <div class="dateButton" data-date="2_MON">월</div>
                  <div class="dateButton" data-date="3_TUE">화</div>
                  <div class="dateButton" data-date="4_WED">수</div>
                  <div class="dateButton" data-date="5_THS">목</div>
                  <div class="dateButton" data-date="6_FRI">금</div>
                  <div class="dateButton" data-date="7_SAT">토</div>
              </div>
          </div>

          <div id="dateSelector_repeat_start" class="ptaddbox _REPEAT_ADD">
            <div class="ptaddboxtext"><img class="icons" src={% static "user/res/ptadd/icon-cal.png" %}> 반복 시작</div>
            <p class="datepicktext dropdown"><input type="text" id="datepicker_repeat_start" placeholder="-" readonly></p>  
          </div>

          <div id="dateSelector_repeat_end" class="ptaddbox _REPEAT_ADD">
            <div class="ptaddboxtext"><img class="icons" src={% static "user/res/ptadd/icon-cal.png" %}> 반복 종료</div>
            <p class="datepicktext dropdown"><input type="text" id="datepicker_repeat_end" placeholder="-" readonly></p>  
          </div>
        
          <div id="repeatStartTime" class="ptaddbox _REPEAT_ADD">
            <div class="ptaddboxtext"><img class="icons" src={% static "user/res/ptadd/icon-start.png" %}> 시작 시간</div>
            <div id="repeatstarttimesSelected" class="dropdown">
              <button class="btn btn-default dropdown-toggle pters_dropdown_custom" type="button" data-toggle="dropdown">
                <span class="KRtext" style="color:#cccccc;">선택</span>
                <span class="JPtext" style="color:#cccccc;">選択</span>
                <span class="ENtext" style="color:#cccccc;">Select</span>
              </button>
              <ul id="repeatstarttimes" class="dropdown-menu pters_dropdown_custom">
                <!-- 회원명 DB연동 필요-->
                <li><a data-trainingtime="00:00:00.000000">오전 0시</a></li>
                <li><a data-trainingtime="01:00:00.000000">오전 1시</a></li>
                <li><a data-trainingtime="02:00:00.000000">오전 2시</a></li>
                <li><a data-trainingtime="03:00:00.000000">오전 3시</a></li>
                <li><a data-trainingtime="04:00:00.000000">오전 4시</a></li>
                <li><a data-trainingtime="05:00:00.000000">오전 5시</a></li>
                <li><a data-trainingtime="06:00:00.000000">오전 6시</a></li>
                <li><a data-trainingtime="07:00:00.000000">오전 7시</a></li>
                <li><a data-trainingtime="08:00:00.000000">오전 8시</a></li>
                <li><a data-trainingtime="09:00:00.000000">오전 9시</a></li>
                <li><a data-trainingtime="10:00:00.000000">오전 10시</a></li>
                <li><a data-trainingtime="11:00:00.000000">오전 11시</a></li>
                <li><a data-trainingtime="12:00:00.000000">오후 12시</a></li>
                <li><a data-trainingtime="13:00:00.000000">오후 1시</a></li>
                <li><a data-trainingtime="14:00:00.000000">오후 2시</a></li>
                <li><a data-trainingtime="15:00:00.000000">오후 3시</a></li>
                <li><a data-trainingtime="16:00:00.000000">오후 4시</a></li>
                <li><a data-trainingtime="17:00:00.000000">오후 5시</a></li>
                <li><a data-trainingtime="18:00:00.000000">오후 6시</a></li>
                <li><a data-trainingtime="19:00:00.000000">오후 7시</a></li>
                <li><a data-trainingtime="20:00:00.000000">오후 8시</a></li>
                <li><a data-trainingtime="21:00:00.000000">오후 9시</a></li>
                <li><a data-trainingtime="22:00:00.000000">오후 10시</a></li>
                <li><a data-trainingtime="23:00:00.000000">오후 11시</a></li>
              </ul>
            </div>
          </div>

          <div id="repeatDurTime" class="ptaddbox _REPEAT_ADD">
            <div class="ptaddboxtext"><img class="icons" src={% static "user/res/ptadd/icon-clock.png" %}> 진행 시간</div>
            <div id="repeatdurationsSelected" class="dropdown">
              <button class="btn btn-default dropdown-toggle pters_dropdown_custom" type="button" data-toggle="dropdown">
                <span class="KRtext" style="color:#cccccc;">선택</span>
                <span class="JPtext" style="color:#cccccc;">選択</span>
                <span class="ENtext" style="color:#cccccc;">Select</span>
              </button>
              <ul id="repeatdurations" class="dropdown-menu pters_dropdown_custom">
                <!-- 회원명 DB연동 필요-->
                <li><a data-dur="1">1시간</a></li>
                <li><a data-dur="2">2시간</a></li>
              </ul>
            </div>
          </div>

          <div class='popupBtn'>
            <div class="submitBtn" id="submitBtn_pt"><span class="KRtext">일정 등록</span><span class="JPtext">登録</span><span class="ENtext">OK</span></div>
          </div>
      </div>



{% endblock %}

{% block local_js_footer %}
        <!-- for db by hk.kim 170805-->
        <script>

          var date = new Date();
          var currentYear = date.getFullYear(); //현재 년도
          var currentMonth = date.getMonth(); //달은 0부터 출력해줌 0~11
          var currentDate = date.getDate(); //오늘 날짜
          var currentHour = date.getHours(); //현재시간
          var lastDay = new Array(31,28,31,30,31,30,31,31,30,31,30,31);      //각 달의 일수
          var currentPageMonth = currentMonth+1; //현재 달
          var date2 = new Date();
          var oriYear = date.getFullYear();
          var oriMonth = date.getMonth()+1;
          var oriDate = date.getDate();

          var krHolidayList =  [{% for holiday_day in holiday %}'{{ holiday_day.holiday_dt }}',{% endfor %}];//대한민국 공휴일 (구정, 추석 제외)
          var krHolidayNameList =  [{% for holiday_day in holiday %}'{{ holiday_day.holiday_name }}',{% endfor %}];//대한민국 공휴일 (구정, 추석 제외)

          //PT 일정 등록시 필요한 정보
          var memberNameArray = [{% for lecture in lecture_info %}'{{ lecture.member_info.name }}',{% endfor %}];
          var memberAvailCountArray = [{% for lecture in lecture_info %}'{{ lecture.lecture_avail_count }}',{% endfor %}];
          var memberLectureIdArray = [{% for lecture in lecture_info %}'{{ lecture.lecture_id }}',{% endfor %}];

          //OFF 일정 관련 정보
          var offScheduleIdArray = [{% for off_schedule_id_info in off_schedule_id %}'{{ off_schedule_id_info }}', {% endfor %}];
          var offTimeArray_start_date = [{% for off_schedule_start_datetime_info in off_schedule_start_datetime %}'{{ off_schedule_start_datetime_info }}',{% endfor %}];
          var offTimeArray_end_date = [{% for off_schedule_end_datetime_info in off_schedule_end_datetime %}'{{ off_schedule_end_datetime_info }}',{% endfor %}];

          //PT 일정 관련 정보
          //pt schedule id
          var scheduleIdArray = [{% for pt_schedule_id_info in pt_schedule_id %}'{{ pt_schedule_id_info }}',{% endfor %}];
          //pt schedule 에 해당하는 lecture id
          var classArray_lecture_id = [{% for pt_schedule_lecture_id_info in pt_schedule_lecture_id %}'{{ pt_schedule_lecture_id_info }}',{% endfor %}];
          //pt schedule 에 해당하는 회원명
          var classTimeArray_member_name = [{% for pt_schedule_member_name_info in pt_schedule_member_name %}'{{ pt_schedule_member_name_info }}',{% endfor %}];
          var classTimeArray_start_date = [{% for pt_schedule_start_datetime_info in pt_schedule_start_datetime %}'{{ pt_schedule_start_datetime_info }}',{% endfor %}];
          var classTimeArray_end_date = [{% for pt_schedule_end_datetime_info in pt_schedule_end_datetime %}'{{ pt_schedule_end_datetime_info }}',{% endfor %}];
          //pt schedule이 끝났는지 확인
          var scheduleFinishArray =  [{% for pt_schedule_finish_check_info in pt_schedule_finish_check %}'{{ pt_schedule_finish_check_info }}', {% endfor %}];

          var messageArray = [{% for message in messages %}{% if message.tags == "error" %}'{{ message }}',{% endif %}{% endfor %}];
          var RepeatDuplicationDateArray = [{% for message in messages %}{% if message.tags == "info" %}'{{ message }}',{% endif %}{% endfor %}];
          var repeatArray = [{{ request.session.repeat_schedule_id }}]

          var offRepeatScheduleIdArray =  [{% for off_repeat_schedule_id_info in off_repeat_schedule_id_data %}'{{ off_repeat_schedule_id_info }}', {% endfor %}];
          var offRepeatScheduleTypeArray =  [{% for off_repeat_schedule_type_info in off_repeat_schedule_type_data %}'{{ off_repeat_schedule_type_info }}', {% endfor %}];
          var offRepeatScheduleWeekInfoArray =  [{% for off_repeat_schedule_week_info_info in off_repeat_schedule_week_info_data %}'{{ off_repeat_schedule_week_info_info }}', {% endfor %}];
          var offRepeatScheduleStartDateArray =  [{% for off_repeat_schedule_start_date_info in off_repeat_schedule_start_date_data %}'{{ off_repeat_schedule_start_date_info }}', {% endfor %}];
          var offRepeatScheduleEndDateArray =  [{% for off_repeat_schedule_end_date_info in off_repeat_schedule_end_date_data %}'{{ off_repeat_schedule_end_date_info }}', {% endfor %}];
          var offRepeatScheduleStartTimeArray =  [{% for off_repeat_schedule_start_time_info in off_repeat_schedule_start_time_data %}'{{ off_repeat_schedule_start_time_info }}', {% endfor %}];
          var offRepeatScheduleTimeDurationArray =  [{% for off_repeat_schedule_time_duration_info in off_repeat_schedule_time_duration_data %}'{{ off_repeat_schedule_time_duration_info }}', {% endfor %}];

          var ptRepeatScheduleIdArray =  [{% for pt_repeat_schedule_id_info in pt_repeat_schedule_id_data %}'{{ pt_repeat_schedule_id_info }}', {% endfor %}];
          var ptRepeatScheduleTypeArray =  [{% for pt_repeat_schedule_type_info in pt_repeat_schedule_type_data %}'{{ pt_repeat_schedule_type_info }}', {% endfor %}];
          var ptRepeatScheduleWeekInfoArray =  [{% for pt_repeat_schedule_week_info_info in pt_repeat_schedule_week_info_data %}'{{ pt_repeat_schedule_week_info_info }}', {% endfor %}];
          var ptRepeatScheduleStartDateArray =  [{% for pt_repeat_schedule_start_date_info in pt_repeat_schedule_start_date_data %}'{{ pt_repeat_schedule_start_date_info }}', {% endfor %}];
          var ptRepeatScheduleEndDateArray =  [{% for pt_repeat_schedule_end_date_info in pt_repeat_schedule_end_date_data %}'{{ pt_repeat_schedule_end_date_info }}', {% endfor %}];
          var ptRepeatScheduleStartTimeArray =  [{% for pt_repeat_schedule_start_time_info in pt_repeat_schedule_start_time_data %}'{{ pt_repeat_schedule_start_time_info }}', {% endfor %}];
          var ptRepeatScheduleTimeDurationArray =  [{% for pt_repeat_schedule_time_duration_info in pt_repeat_schedule_time_duration_data %}'{{ pt_repeat_schedule_time_duration_info }}', {% endfor %}];

          var classDateArray = [];
          var classStartArray = [];
          var classNameArray = []; //2017_11_21_21_00_1_김선겸_22_00
          var classTimeArray = [];
          var offTimeArray = [];

          var classDateData = []
          var classTimeData = []
          var offDateData=[]
          var offTimeData = []

          var offAddOkArray = [] //OFF 등록 시작 시간 리스트
          var durAddOkArray = [] //OFF 등록 시작시간 선택에 따른 진행시간 리스트

          var dateResult = []
          var countResult = []

          var addTypeSelect = "ptadd" //팝업 종류 선택 (PT or OFF)
          var selectedDayGroup = [] //반복일정에서 요일 선택
        </script>

        <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/javascript" src={% static "user/js/trainer/pters.trainer.cal.month.js" %}></script> <!--달력에 대한 JS-->
        <script>
            var myswiper = new Swiper('.swiper-container',{
                initialSlide : 1,
                //speed : 120,
                preventClicks : true,
                keyboardControl : true,
                preventClicksPropagation : true,
                threshold : 50,
                resistance: 1,
                onlyExternal: true,
            });


            $(window).scroll(function(event){
               event.stopPropagation();
            })

            $('#hidetoggle').click(function(){
              if($(this).attr('data-type') == '0'){
                $(this).css({'padding-top':'10px','color':'#282828'}).attr('data-type','1')
                $(this).find('img').css('-webkit-transform','rotate(-90deg)')
                $('#ymdText-pc').css('margin-top','30px')
                $('#date').css('margin-top','145px')
                $('#calendar').css('margin-top','120px')
                $('#ymdText').css('display','none')
              }else{
                $(this).css({'padding-top':'75px','color':'#f4f4f4'}).attr('data-type','0')
                $(this).find('img').css('-webkit-transform','rotate(90deg)')
                $('#ymdText-pc').css('margin-top','100px')
                $('#date').css('margin-top','215px')
                $('#calendar').css('margin-top','192px')
                $('#ymdText').css('display','block')
              }
            })

            var count = 0 
            var count1 = 0

            $('#ymdText-pc-prev-btn, #leftArrowButton').click(function(){
              if(count==0){
                myswiper.slidePrev(300)
                count++  
                setTimeout(function(){count=0},400)
              }else if(count>0){
                console.log('wait!')
              }
            })

            $('#ymdText-pc-next-btn, #rightArrowButton').click(function(){
              if(count1==0){
                myswiper.slideNext(300)  
                count1++  
                setTimeout(function(){count1=0},400)
              }else if(count>0){
                console.log('wait!')
              }
            })

            $('footer').css('display','none')
        </script>
        <script type="text/javascript" src={% static "user/js/trainer/pters.trainer.cal.add.pt.js" %}></script>
        <script type="text/javascript" src={% static "user/js/trainer/pters.trainer.cal.add.off.repeat.js" %}></script>

{% endblock %}
