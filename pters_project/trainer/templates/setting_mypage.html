{% extends "trainer_base.html" %}
{% load static_url %}

{% block local_css %}
        <link rel="stylesheet" href={% static_url "user/css/trainer/pters.trainer.mypage.css" %}>
        <link rel="stylesheet" href={% static_url "user/css/pters.add.style.css" %}>
{% endblock %}

{% block content %}

<div id="ymdText">
  <!--
    <div class='arrowButton'>
     <a style="left: 6%;cursor: pointer;"><img src={% static_url "user/res/daycal_arrow.png" %} alt="" style="width: 7px;"></a>
     <a style="right: 6%;cursor: pointer;"><img src={% static_url "user/res/daycal_arrow.png" %} alt="" style="-webkit-transform:rotate(180deg);width: 7px;"></a>
    </div>
  -->
    <div id="ymdTextWrap">
         <div id="countRemain">
          <div style="position: absolute;width: 100%;height: 100%;background: #ffffff;opacity: 0.16;"></div>
            <span id="countRemainData">~
              <span style="color:#fe4e65;font-weight: bold;font-size: 16px;">~ </span>
            </span>
         </div>
        <div id="yearText">회원 정보</div>
        <div id="monthText"></div>
        <div id="menuName">회원 정보
        </div>
        <div id="menuDescription">나의 정보를 확인할 수 있습니다.
        </div>
    </div>
</div>

<div class="gap">
  
</div>


<div id="summary_wrap">
  <div class="mypage_label">
      <img src="/static/user/res/member/icon-user.png" alt=""><span>내 정보 개요</span>
  </div>

  <div id="regCountBoardWrap" class="boardWrap">
      <div class="countBoard"><p><img src="/static/user/res/member/icon-able.png" alt="">총 회원</p>
        <p class="countBoard_explain">현재까지 관리한 총 회원수</p>
        <p><span>{{lecture_reg_count}} </span>회</p>
      </div>
      <div class="countBoard"><p><img src="/static/user/res/member/icon-able.png" alt="">현재 회원</p>
        <p class="countBoard_explain">현재 진행중인 회원수</p>
        <p><span><script type="text/javascript">document.write(Number({{lecture_reg_count}})-Number({{lecture_finish_count}}))</script></span>회</p>
      </div>
  </div>

  <div id="countBoardWrap" class="boardWrap">
      <div class="countBoard"><p><img src="/static/user/res/member/icon-able.png" alt="">총 완료</p>
        <p class="countBoard_explain">현재까지 완료한 총 강의 횟수</p>
        <p><span>{{lecture_avail_count}} </span>회</p>
      </div>
      <div class="countBoard"><p><img src="/static/user/res/member/icon-check.png" alt="">신규 회원</p>
        <p class="countBoard_explain">이번달 등록한 신규회원 수</p>
        <p><span>{{lecture_finish_count}} </span>회</p>
      </div>
  </div>

  <div id="planBoardWrap" class="boardWrap">
      <div class="planBoard _Next_Info"><p><img src="/static/user/res/member/icon-bell.png" alt="">다음 PT 일정</p><p></p></div>
      <div class="planBoard _Repeat_Info"><p><img src="/static/user/res/member/icon-repeat.png" alt="">OFF 반복 일정</p><p style="margin:0;"></p><span></span></div> 
  </div>

  <!--
  <div id="dateBoardWrap" class="boardWrap">
      <div class="dateBoard"><div><p><img src="/static/user/res/member/icon-cal.png" alt="">PT 시작일</p><p style="margin:0;">{{ pt_start_date }}</p></div></div>
      <div class="dateBoard"><div><p><img src="/static/user/res/member/icon-cal.png" alt="">PT 종료일</p><p style="margin:0;">{{ pt_end_date }}</p></div></div>
  </div>
  -->

  <div class="mypage_label">
      <img src="/static/user/res/member/icon-user.png" alt=""><span>가입 정보</span>
  </div>
  <div id="trainerInfoWrap" class="boardWrap">
      <div class="trainerInfo">
        <span class="menuName">ID(이메일)</span>
        <span>ppkyum@naver.com</span><button onclick="goPage('delAccount')">탈퇴</button>
      </div>
  </div>
  <div id="trainerInfoWrap" class="boardWrap">
      <div class="trainerInfo">
        <span class="menuName">비밀번호 변경</span><button onclick="goPage(2)">변경</button>
      </div>
  </div>
  <div id="trainerInfoWrap" class="boardWrap">
      <div class="trainerInfo">
        <span class="menuName">생일</span><span>1990.10.10</span><button>변경</button>
      </div>
  </div>
  <div id="trainerInfoWrap" class="boardWrap">
      <div class="trainerInfo">
        <span class="menuName">지역</span><span>대한민국 서울특별시</span><button>변경</button>
      </div>
  </div>
  <div id="trainerInfoWrap" class="boardWrap">
      <div class="trainerInfo">
        <span class="menuName">가입일</span><span>2018.03.19</span>
      </div>
  </div>


  <div class="mypage_label">
      <img src="/static/user/res/member/icon-user.png" alt=""><span>소속 기관</span>
  </div>
  <div id="trainerGymInfoWrap" class="boardWrap">
      <div class="trainerInfo"><span>{{ class_info.mem_info.name }} 트레이너</span><img src="/static/user/res/member/icon-call.png" alt=""><img src="/static/user/res/member/icon-message.png" alt=""></div>
  </div>
</div>

<div class="mypage_label _GRAPH_OPEN">
    <img src="/static/user/res/member/icon-user.png" alt=""><span>월별 강의 완료 그래프</span>
</div>

<div id="mygraph" data-open="0">
    <div id="yyyyText">
        <!--<img src="/static/user/res/icon-calendar-week.png" alt="" class="iconimg">-->
        <a id="leftArrow" style="left: 6%;cursor: pointer;"><img src={% static_url "user/res/icon-setting-arrow.png" %} alt="" style="-webkit-transform:rotate(180deg);width: 6px;"></a>
        <span id="yy"></span>
        <a id="rightArrow" style="right: 6%;cursor: pointer;"><img src={% static_url "user/res/icon-setting-arrow.png" %} alt="" style="width: 6px;"></a>
    </div>

    <div id="graph" class="pters_graph">
      <div class="graph_main">
        <div class="graph_vertical">
          <div class="verti">30</div>
          <div class="verti">25</div>
          <div class="verti">20</div>
          <div class="verti">15</div>
          <div class="verti">10</div>
          <div class="verti">5</div>
          <div class="verti"></div>
        </div>
      </div>  
      <div class="graph_horizontal">
        <table>
          <tr>
            <td>1월</td>
            <td>2월</td>
            <td>3월</td>
            <td>4월</td>
            <td>5월</td>
            <td>6월</td>
            <td>7월</td>
            <td>8월</td>
            <td>9월</td>
            <td>10월</td>
            <td>11월</td>
            <td>12월</td>
          </tr>
        </table>
      </div>
    </div> 
</div>


{% endblock %}

{% block local_js_footer %}
        <!-- for db by hk.kim 170805-->
        <script>
            var krHolidayList =  [{% for holiday_day in holiday %}'{{ holiday_day.holiday_dt }}',{% endfor %}];//대한민국 공휴일 (구정, 추석 제외)
        
            //여기를 가져다 써야함 - hkkim 171021;
            var classTimeArray_start_date = [{% for pt_schedule_start_datetime_info in pt_schedule_start_datetime %}'{{ pt_schedule_start_datetime_info }}',{% endfor %}];
        	var classTimeArray_end_date = [{% for pt_schedule_end_datetime_info in pt_schedule_end_datetime %}'{{ pt_schedule_end_datetime_info }}',{% endfor %}];
            var scheduleIdArray = [{% for pt_schedule_id_info in pt_schedule_id %}'{{ pt_schedule_id_info }}',{% endfor %}];
            var scheduleFinishArray =  [{% for pt_schedule_finish_check_info in pt_schedule_finish_check %}'{{ pt_schedule_finish_check_info }}', {% endfor %}];
            var classTimeArray_member_name = [{% for pt_schedule_member_name_info in pt_schedule_member_name %}'{{ pt_schedule_member_name_info }}',{% endfor %}];


            var offTimeArray_start_date = [{% for off_schedule_start_datetime_info in off_schedule_start_datetime %}'{{ off_schedule_start_datetime_info }}',{% endfor %}];
            var offTimeArray_end_date = [{% for off_schedule_end_datetime_info in off_schedule_end_datetime %}'{{ off_schedule_end_datetime_info }}',{% endfor %}];



            var classDateArray = [] //수업날짜 DB데이터 가공후 만들어지는 Array
            var classStartArray = [] //수업시간 DB데이터 가공후 만들어지는 Array

            var ptRepeatScheduleIdArray =  [{% for pt_repeat_schedule_id_info in pt_repeat_schedule_id_data %}'{{ pt_repeat_schedule_id_info }}', {% endfor %}];
            var ptRepeatScheduleTypeArray =  [{% for pt_repeat_schedule_type_info in pt_repeat_schedule_type_data %}'{{ pt_repeat_schedule_type_info }}', {% endfor %}];
            var ptRepeatScheduleWeekInfoArray =  [{% for pt_repeat_schedule_week_info_info in pt_repeat_schedule_week_info_data %}'{{ pt_repeat_schedule_week_info_info }}', {% endfor %}];
            var ptRepeatScheduleStartDateArray =  [{% for pt_repeat_schedule_start_date_info in pt_repeat_schedule_start_date_data %}'{{ pt_repeat_schedule_start_date_info }}', {% endfor %}];
            var ptRepeatScheduleEndDateArray =  [{% for pt_repeat_schedule_end_date_info in pt_repeat_schedule_end_date_data %}'{{ pt_repeat_schedule_end_date_info }}', {% endfor %}];
            var ptRepeatScheduleStartTimeArray =  [{% for pt_repeat_schedule_start_time_info in pt_repeat_schedule_start_time_data %}'{{ pt_repeat_schedule_start_time_info }}', {% endfor %}];
            var ptRepeatScheduleTimeDurationArray =  [{% for pt_repeat_schedule_time_duration_info in pt_repeat_schedule_time_duration_data %}'{{ pt_repeat_schedule_time_duration_info }}', {% endfor %}];


            var next_schedule = ['{{ next_schedule }}'];
            var lt_res_01 =  ['{{ lt_res_01 }}'];
            var lt_res_02 =  ['{{ lt_res_02 }}'];
            var lt_res_03 =  ['{{ lt_res_03 }}'];
        </script>

        <!-- Placed at the end of the document so the pages load faster -->

        <script type="text/javascript" src={% static_url "user/js/trainee/pters.trainee.mypage.js" %}></script> <!--달력에 대한 JS-->
        <script>

            $('#uptext').text("마이페이지")
            //$('#upbutton').attr('onclick',"location.href='{% url 'trainee:cal_month'%}'")
            //$('#upbutton img').attr('src','/static/user/res/icon-setting-arrow.png').css({'transform':'rotate(180deg)','height':'20px','width':'unset'})
            /*
            if('{{next_schedule_start_dt }}'.length>0){
              var trainee_next_schedule = db_datatimehangul_format_realign('{{next_schedule_start_dt }}')
            }else{
              var trainee_next_schedule = "일정이 없습니다."
            }
            */

            function goPage(option){
              if(option == 2){
                location.href= "/accounts/password/change/"
              }else if(option = "delAccount"){

              }
            }
            
            /*
            $('._GRAPH_OPEN').click(function(){
              if($('#mygraph').attr('data-open') == '0'){
                  $('#mygraph').css('transform','translateY(0%)').attr('data-open','1')
                  //$('#summary_wrap').css('transform','translateY(0%)')
                  
              }else if($('#mygraph').attr('data-open') == "1"){
                  $('#mygraph').css('transform','translateX(-200%)').attr('data-open','0')
                  //$('#summary_wrap').css('transform','translateY(-48%)')

              }
            })
            */

           
              
            
        </script>

{% endblock %}
