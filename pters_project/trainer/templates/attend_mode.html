<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="EPm2stOoq7M_LaK0htEQNqbitGznovZCakPO78TPtsk" />
    <meta name="naver-site-verification" content="919ceda7d377b0d22cf390ca79de5dc21dc3d0fa"/>
    <meta name="description" content="PTERS 피터스 PT, 요가, 필라테스, 당구, 골프 등 레슨 회원관리와 일정을 관리하는 서비스 프로그램">

    <title>PTERS-출석체크모드</title>

    <link rel="icon" href="/static/common/favicon.ico">
    <link rel="apple-touch-icon" href="/static/common/favicon-48.png">
    <link rel="shortcut icon" href="/static/common/favicon-48.png">
    <style type="text/css">
        @import url(/static/common/fonts/notosanskr.css);

        html,body{
            font-family: 'Noto Sans KR',sans-serif !important;
        }


        html{
            font-size: 10px;
        }
        body{
            background-color: #cccccc;
            margin: 0;
        }
        @media(min-width:768px){
            html{
                font-size: 14px;
            }
        }
        p{
            margin-top: 10px;
            margin-bottom: 10px;
        }
        section{
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
        }
        button{
            border: 1px solid #cccccc;
            background-color: #ffffff;
            height: 35px;
            padding: 5px 10px;
            min-width: 50px;
            border-radius: 5px;
        }

        #button_back{
            background-image: url("/static/user/res/login/icon-lock-pink.png");
            background-size: 25px;
            background-position: center;
            background-repeat: no-repeat;
            border: 0;
            background-color: transparent;
        }

        #content_wrapper{
            position: fixed;
            display:none;
            width: 100%;
            max-width: 650px;
            margin: 0 auto;
            background-color: #f4f4f4;
            border-radius: 5px;
            box-shadow: 1px 1px 3px 2px #cccccc;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        #wrapper_lesson_now{
            background-color: #ffffff;
            border-radius: 5px;
        }
        #wrapper_arrow_button{
            position: relative;
            height: 35px;
        }
        #wrapper_arrow_button button:first-child{
            position: absolute;
            top: 0;
            left: 0;
        }
        #wrapper_arrow_button button:last-child{
            position: absolute;
            top: 0;
            right: 0;
        }
        #wrapper_arrow_button .logo{
            height: 35px;
            background-image: url("/static/user/res/PTERS_logo_pure.png");
            background-repeat: no-repeat;
            background-size: 100px;
            background-position: center;
        }
        #wrapper_lesson_now_info{
            margin: 0 auto;
            max-width: 550px;
            padding: 15px;
            box-sizing: border-box;
            text-align: center
        }
        #wrapper_lesson_now_info_name{
            padding: 15px;
            border: 2px solid #1e1e1e;
            border-radius: 10px;
            background: linear-gradient(to right, #f4f4f4, #f4f4f4 20%, #ffffff);
            margin-top: 15px;
        }
        .lesson_selected{
            border-width: 2px !important;
            border-color: #fe4e65 !important;
        }

        #wrapper_phone_input{
            text-align: center;
        }
        #input_form_phone{
            -webkit-appearance: none;
            border: 1px solid #cccccc;
            height: 40px;
            width: 90%;
            max-width: 300px;
            font-size: 2rem;
            text-align: center;
        }

        #wrapper_submit_button{
            text-align: center
        }
        #wrapper_submit_button > button{
            width: 200px;
        }


        /* 팝업 */
        .popup{
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1500;
            width: 90%;
            max-width: 300px;
            background-color: #ffffff;
            border: 1px solid #cccccc;
            padding: 20px;
            text-align: center
        }
        .popup > div{
            margin: 10px 0;
        }
        .popup input{
            -webkit-appearance: none;
            border: 1px solid #cccccc;
            border-radius: 0;
            width: 150px;
            height: 30px;
            
        }
        .popup button{
            width: 100px;
            margin: 5px;
        }
        .popup_shade{
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #282828;
            opacity: 0.5;
        }
        /* 팝업 */

       


        .fts_24{font-size: 1.7rem;}
        .fts_22{font-size: 1.5rem;}
        .fts_20{font-size: 1.4rem;}
        .fts_16{font-size: 1.14rem;}

        .ftw_bd{font-weight: bold;}
        .ftw_500{font-weight: 500;}

        .ftc_pink{color: #fe4e65}
    </style>
</head>

<body>
    <div id="content_wrapper">
        <section id="wrapper_lesson_now">
            <div id="wrapper_arrow_button">
                <button onclick="move_button(event, 'prev')" hidden>&#60;&#60;</button>
                <div class="logo"></div>
                <button onclick="move_button(event, 'next')" hidden>&#62;&#62;</button>
            </div>

            <div id="wrapper_lesson_now_info">
                <p class="fts_22">2019.05.15 (화요일)</p>
        
                <div id="wrapper_lesson_now_info_name" data-id="1" onclick="lesson_select(this)">
                    <p style="margin:0;" class="fts_16">현재 진행중인 수업</p>
                    <p class="fts_22 ftw_bd">(그룹) 2:1 커플레슨</p>
                    <p class="fts_20">14:00 - 15:00</p>
                </div>
                <div id="wrapper_lesson_now_info_name" data-id="2"  onclick="lesson_select(this)">
                    <p style="margin:0;" class="fts_16">현재 진행중인 수업</p>
                    <p class="fts_22 ftw_bd">(그룹) 2:1 커플레슨</p>
                    <p class="fts_20">14:00 - 15:00</p>
                </div>
            </div>
        </section>

        <section id="wrapper_phone_input">
            <form action="" id="form_data_phone">
                <p>등록된 전화번호</p>
                <input type="tel" placeholder="숫자만 입력" id="input_form_phone">
                <input type="hidden" id="input_form_lesson_id">
            </form>
        </section>

        <section id="wrapper_submit_button">
                <button onclick="form_confirm(event)">확인</button>
        </section>

        <section id="wrapper_submit_button">
                <button id="button_back" onclick="back_to_normal_mode(event)"></button>
        </section>
    </div>

    <div id="popup_storage"></div>

   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        window.onload=function(){
            let window_height = window.innerHeight;
            let content_height = $('#content_wrapper').height();

            $('#content_wrapper').fadeIn();
            if(content_height < window_height){
                $('#content_wrapper').css({'left':'50%', 'top':'50%', 'transform':'translate(-50%, -50%)', 'position':'absolute'})
            }else{
                $('#content_wrapper').css('height', window_height);
            }

            func_set_webkit_overflow_scrolling('#content_wrapper');
        }
        

        function form_confirm(e){
            e.preventDefault();
            if($('#input_form_lesson_id').val().length == 0){
                alert('수업을 선택해주세요!')
                return false;
            }
            location.href='/trainer/attend_mode_detail/';
        }

        function move_button(e, direction){
            e.preventDefault();
            switch(direction){
                case "prev":
                    alert('prev');
                break;
                    
                case "next":
                    alert('next');
                break;
            }
        }

        function back_to_normal_mode(e){
            e.preventDefault();
            popup();
        }

        function lesson_select(context){
            $('.lesson_selected').removeClass('lesson_selected');
            $(context).addClass('lesson_selected');
            let this_lesson_id = $(context).attr('data-id');
            $('#input_form_lesson_id').val(this_lesson_id);
        }


        function popup(){
            let $popup_storage = $('#popup_storage');
            $popup_storage.html(
                `<div id="popup_input_password" class="popup">
                    <div><p class="fts_20 ftw_bd">관리자 비밀번호를 입력해주세요.</p></div>
                    <div><input type="password" name="password" placeholder="입력" autocomplete="new-password"></div>
                    <div class="ftw_16"><button>확인</button><button onclick="$('#popup_storage').html('')">취소</button></div>
                </div>
                <div class="popup_shade" onclick="$('#popup_storage').html('')">
                </div>`
            )
        }

        function password_check(password){
            let url = '//'
            $.ajax({
                url: url,
                type:'POST',
                data:{'password':password},
                //dataType : 'html',

                beforeSend:function(xhr, settings) {
                    
                },

                //통신성공시 처리
                success:function(){
                    console.log('sucess');

                },

                //보내기후 팝업창 닫기
                complete:function(){

                },

                //통신 실패시 처리
                error:function(){
                    console.log('error');
                }
            });
        }

    </script>
    <script>
            //기기종류 판단
            const varUA = navigator.userAgent.toLowerCase();
            let device = "PC";
            let os = "IOS";
            if (varUA.match(/android/) != null) {
                device = "MOBILE";
                os = "ANDROID";
            }else if (varUA.match(/iphone/) != null || varUA.match(/ipad/) != null || varUA.match(/ipod/) != null) {
                device = "MOBILE";
                os = "IOS";
            }else if (varUA.match(/macintosh/) != null){
                device = PC;
                os = "IOS";
            }else{
                device = PC;
                os = "WINDOW";
            }
            
            function func_set_webkit_overflow_scrolling(target_selector){
                if(os == "IOS"){
                    let $selector = $(target_selector);
                    $selector.scrollTop(1);
                    $selector.scroll(function(e){
                        const popupHeight = $selector.height();
                        const scrollHeight = $selector.prop('scrollHeight');
                        const scrollLocation = $selector.scrollTop();
                        if(scrollHeight > popupHeight+1){
                        if(popupHeight + scrollLocation == scrollHeight){
                                $selector.animate({scrollTop : scrollLocation-1}, 10);
                            }else if(popupHeight + scrollLocation == popupHeight){
                                $selector.animate({scrollTop : scrollLocation+1}, 10);
                            }
                        }
                        
                    });
                }
            }
        </script>
</body>
</html>

